<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>
        <title>Catálogo Activación</title>
    </h:head>
    <h:body>
        <ui:composition template="./../plantilla/plantilla.xhtml">
            <ui:define name="center">
                <h:form id="formReportAct">
                    <p:growl id="msgsAct" showDetail="true"/>

                    <p:dataTable id="tableActivacion" var="activacion" value="#{reporteActivacionBean.listaActivacion}" 
                                 paginator="true" rows="10" sortMode="single" widgetVar="clientesTabla" >
                        <f:facet name="header">
                            <div align="center">
                                <p:outputLabel value="Buscar registros por fecha"/>

                                <br/>
                                <p:outputLabel for="fechaInicial" value="Fecha inicial: " />
                                <p:datePicker id="fechaInicial" value="#{reporteActivacionBean.fechaInicial}" showIcon="true" 
                                              monthNavigator="true" yearNavigator="true"
                                              pattern="dd/MM/yyyy" required="true"
                                              requiredMessage="Ingrese fecha de inicio"/>

                                <p:outputLabel for="fechaFinal" value="Fecha Final: " 
                                               style="margin-left: 10px" />
                                <p:datePicker id="fechaFinal" value="#{reporteActivacionBean.fechaFinal}" showIcon="true" 
                                              monthNavigator="true" yearNavigator="true"
                                              pattern="dd/MM/yyyy" required="true"
                                              requiredMessage="Ingrese fecha final"/>

                                <p:commandButton value="Buscar" action="#{reporteActivacionBean.llenaReporteActivacion()}"
                                                 icon="ui-icon-search" style="margin-top: 5px;
                                                 margin-bottom: 5px; margin-left: 10px"
                                                 update=":formReportAct:tableActivacion 
                                                 :formReportAct:msgsAct"/>
                            </div>
                        </f:facet>

                        <p:column headerText="Nombre distribuidor" sortBy="#{activacion.distribuidor}" 
                                  filterBy="#{activacion.distribuidor}">
                            <h:outputText value="#{activacion.distribuidor}" />
                        </p:column>

                        <p:column headerText="Nombre cliente" sortBy="#{activacion.cliente}" 
                                  filterBy="#{activacion.cliente}">
                            <h:outputText value="#{activacion.cliente}" />
                        </p:column>

                        <p:column headerText="Nombre ciudad" sortBy="#{activacion.ciudad}" 
                                  filterBy="#{activacion.ciudad}">
                            <h:outputText value="#{activacion.ciudad}" />
                        </p:column>

                        <p:column headerText="Tipo telefonía" sortBy="#{activacion.descripcionTipo}" 
                                  filterBy="#{activacion.descripcionTipo}">
                            <h:outputText value="#{activacion.descripcionTipo}" />
                        </p:column>

                        <p:column headerText="Respuesta" sortBy="#{activacion.respuestaAplicacion}" 
                                  filterBy="#{activacion.respuestaAplicacion}">
                            <h:outputText value="#{activacion.respuestaAplicacion}" />
                        </p:column>                

                        <p:column headerText="Monto" sortBy="#{activacion.monto}" 
                                  filterBy="#{activacion.monto}">
                            <h:outputText value="#{activacion.monto}" />
                        </p:column>

                        <p:column headerText="Teléfono" sortBy="#{activacion.telefono}" 
                                  filterBy="#{activacion.telefono}">
                            <h:outputText value="#{activacion.telefono}" />
                        </p:column>

                        <p:column headerText="Fecha petición" sortBy="#{activacion.fechaPeticion}" 
                                  filterBy="#{activacion.fechaPeticion}">
                            <h:outputText value="#{activacion.fechaPeticion}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>
                    </p:dataTable>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
